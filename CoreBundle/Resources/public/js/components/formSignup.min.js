!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","lodash","angular","angular-material","stratus.services.registry","stratus.services.model","stratus.services.collection","stratus.controllers.api"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Components.FormSignup={bindings:{ngModel:"=",elementId:"@",options:"@",url:"@",controller:"@",responseSuccess:"@",redirectUrl:"@",buttonText:"@"},controller:function($scope,$element,$http,$attrs){var uid=_.uniqueId("formSignup_");Stratus.Instances[uid]=$scope,$scope.model=$scope.$parent.model,$scope.options={id:$element.id?$element.id+"Component":uid,url:$attrs.url||"https://api.brandnewcongress.org",controller:$attrs.controller||"/people",response:{success:$attrs.responseSuccess||"Thank you for signing up! We will be in touch."},redirect:{url:$attrs.redirectUrl||!1},buttonText:"Sign Me Up"}},template:'<form class="formSignup positionAnchor"id="{{ $parent.options.id }}"name="Signup"ng-class="status"ng-cloak ng-cloak-reveal ng-controller="Api"ng-sanitize="true"ng-submit="send(\'Signup\') && tracking.send(\'SignupButton\', \'click\')"options="{{ $parent.options }}"><input name="utmSource"type="hidden"ng-value="model.data.utmSource"> <input name="utmMedium"type="hidden"ng-value="model.data.utmMedium"> <input name="utmCampaign"type="hidden"ng-value="model.data.utmCampaign"><md-progress-circular md-mode="indeterminate"ng-show="status === \'sending\'"></md-progress-circular><p class="message"ng-bind-html="response"ng-show="response.length"><div class="clearfix inputCollection"ng-show="status !== \'success\'"><div class="inputBlock"><md-input-container><label>Email</label><input name="email"type="email"md-no-asterisk ng-model="model.data.email"ng-pattern="options.pattern.email"required><div ng-messages="Signup.email.$error"role="alert"><div ng-message-exp="[\'required\', \'pattern\']">Please enter a valid email.</div></div></md-input-container></div><div class="inputBlock"><md-input-container><label>Zip</label><input name="zip"md-no-asterisk ng-model="model.data.zip"ng-pattern="options.pattern.zip"required><div ng-messages="Signup.zip.$error"role="alert"><div ng-message-exp="[\'required\', \'pattern\']">Please enter a valid zip code.</div></div></md-input-container></div><div class="inputBlock"><button class="btn formSubmit"ng-disabled="Signup.$invalid"type="submit">{{ options.buttonText }}</button></div></div></form>'}});