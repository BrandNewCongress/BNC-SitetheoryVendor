function main(){var e=(document.getElementById(formId),new XMLHttpRequest);e.open("POST",apiUrl),e.onload=function(){200===e.status?alert("User's name is "+e.responseText):alert("Request failed.  Returned status of "+e.status)},e.send(),_form.submit(function(e){e.preventDefault();var r,t,s=$(this).serialize(),a=s.split("&"),i={},n=!1,o="";for(r=0;r<a.length;r++){var l=a[r].split("=");0===l[0].lastIndexOf("list_",0)&&(l[0]="list"),i[l[0]]=l[1]}_form.find("."+msgErrClass).remove(),_form.find("."+errClass).removeClass(errClass),_form.find(".ctct-flagged").removeClass("ctct-flagged");var c,d,f=s.split("&"),u={};for(r=0;r<f.length;r++)d=f[r].split("="),d[1]&&""!==d[1]||(d[0].match(/cf_text_value--[\w0-9\-\:\_]*/)?(c=d[0].split("--")[1],u[c]=!0):d[0].match(/cf_date_value_day--[\w0-9\-\:\_]*/)?(c=d[0].split("--")[1],u[c]||(u[c]={}),u[c].day=!0):d[0].match(/cf_date_value_month--[\w0-9\-\:\_]*/)?(c=d[0].split("--")[1],u[c]||(u[c]={}),u[c].month=!0):d[0].match(/cf_date_value_year--[\w0-9\-\:\_]*/)?(c=d[0].split("--")[1],u[c]||(u[c]={}),u[c].year=!0):delete f[r]);f=f.filter(function(e){return void 0!==e});for(r in u)for(t=0;t<f.length;t++)d=f[t],d&&(d=d.split("="),d[0].match(new RegExp(".*--"+r,"i"))&&(u[r]===!0?delete f[t]:"object"==typeof u[r]&&u[r].day===!0&&u[r].month===!0&&u[r].year===!0&&delete f[t]));var m=$.grep(f.filter(function(e){return void 0!==e}),function(e,r){return"url"==e.substring(0,3)});if(m.length>0){n=!0;for(r in m){o=decodeURIComponent(m[r].substring(4));break}f=f.filter(function(e){return"url"!==e.substring(0,3)})}return f=f.filter(function(e){return void 0!==e}).join("&"),$.ajax({type:"POST",crossDomain:!0,url:postURL,data:f,error:function(e,r,t){if(json=e.responseJSON,json)if(json.offenders)for(var s in json.offenders){var a=json.offenders[s],i=a.offender,n=a.required,o=_form.find("[name="+i+"]"),l=null,c=o.parent("p");if(0===c.length){if(l=_form.find("[data-name="+i+"]"),"unsubscribed"===i&&(l=_form.find("[data-name=email]")),0===l.length)continue}else l=c.find("label");n!==!0||i.match(/list.*/)?"ca"===i?l.hasClass("ctct-flagged")||l.after(errorSection("ca")):"email"===i||"unsubscribed"===i?l.hasClass("ctct-flagged")||("email"===i?l.after(errorSection("email")):l.after(errorSection("unsubscribed"))):i.match(/list.*/)?l.hasClass("ctct-flagged")||l.after(errorSection("list")):l.hasClass("ctct-flagged")||l.after(errorSection("generic")):l.hasClass("ctct-flagged")||l.after(errorSection("required")),o.addClass(errClass),l.addClass("ctct-flagged")}else _form.prepend(errorSection("shared"));else _form.prepend(errorSection("shared"))},success:function(e,r,t){n===!1?($(".ctct-embed-signup button").hide(),$(".ctct-embed-signup form").hide(),$(".success_message").removeClass("hide")):window.location.href=o}}),!1})}function errorSection(e){return'<div class="'+msgErrClass+'">'+localizedErrMap[e]+"</div>"}var errClass="is-error",msgErrClass="ctct-form-errorMessage",localizedErrMap={};localizedErrMap.required="This field is required.",localizedErrMap.ca="An unexpected error occurred while attempting to send email.",localizedErrMap.generic="This field is invalid.",localizedErrMap.shared="Sorry, we could not complete your sign-up. Please contact us to resolve this.",localizedErrMap.unsubscribed="Sorry, you were previously unsubscribed from our lists. Please contact us to subscribe again.";var formId="formSignup",apiURL="https://api.brandnewcongress.org/people";